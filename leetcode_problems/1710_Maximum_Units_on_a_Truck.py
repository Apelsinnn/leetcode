class Solution:
    def __init__(self):
        pass

    def maximum_units(self, box_types: list, truck_size: int) -> int:
        self.box_types = box_types
        self.truck_size = truck_size
        self.result = 0
        if len(self.box_types) == 1:
            if self.box_types[0][0] < self.truck_size:
                self.result = self.box_types[0][0] * self.box_types[0][1]
                return self.result
            if self.box_types[0][0] >= self.truck_size:
                self.result = self.box_types[0][1] * self.truck_size
                return self.result

        if len(self.box_types) > 1:
            while self.truck_size > 0:
                if len(self.box_types) == 0:
                    return self.result
                self.maximum = 0
                for i in range(len(self.box_types)):
                    if self.maximum <= self.box_types[i][1]:
                        self.maximum = self.box_types[i][1]
                        self.index = i
                else:
                    if self.truck_size >= self.box_types[self.index][0]:
                        self.truck_size -= self.box_types[self.index][0]
                        self.result += self.box_types[self.index][0] * self.box_types[self.index][1]
                        del self.box_types[self.index]
                        continue
                    if self.truck_size < self.box_types[self.index][0]:
                        self.result += self.truck_size * self.box_types[self.index][1]
                        self.truck_size -= self.box_types[self.index][0]
                        continue
                    self.result += self.box_types[self.index][1]
                    self.box_types[self.index][0] -= 1
                    if self.box_types[self.index][0] == 0:
                        del self.box_types[self.index]
                    self.truck_size -= 1
            else:
                return self.result


if __name__ == '__main__':
    result = Solution()

    assert result.maximum_units([[3, 2]], 4) == 6
    assert result.maximum_units([[4, 2]], 4) == 8
    assert result.maximum_units([[2, 2]], 1) == 2
    assert result.maximum_units([[3, 4], [2, 2], [1, 1]], 4) == 14
    assert result.maximum_units([[3, 4], [2, 2]], 2) == 8
    assert result.maximum_units([[3, 4]], 3) == 12
    assert result.maximum_units([[1, 3], [5, 5], [2, 5], [4, 2], [4, 1], [3, 1], [2, 2], [1, 3], [2, 5],
                                 [3, 2]], 35) == 76
    assert result.maximum_units(
        [[849, 590], [608, 630], [476, 60], [483, 927], [63, 495], [463, 53], [446, 167], [650, 307],
         [659, 684], [357, 84], [696, 59], [486, 228], [450, 647], [485, 778], [937, 899], [834, 179],
         [851, 595], [824, 849], [767, 423], [394, 398], [722, 673], [742, 844], [256, 125], [46, 232],
         [305, 674],
         [68, 877], [276, 224], [720, 220], [298, 991], [437, 624], [689, 151], [528, 135], [2, 735], [242, 780],
         [976, 318], [264, 510], [851, 408], [406, 359], [404, 361], [940, 831], [996, 780], [615, 846],
         [638, 524], [384, 581], [634, 539], [354, 65], [651, 723], [189, 67], [590, 635], [606, 591],
         [561, 924], [971, 638], [717, 653], [925, 200], [991, 237], [614, 642], [182, 702], [716, 73],
         [765, 630], [781, 987], [163, 124], [823, 109], [91, 350], [537, 836], [281, 806], [68, 86],
         [100, 655], [932, 995], [462, 470], [693, 325], [451, 6], [532, 291], [667, 880], [49, 700],
         [798, 168], [936, 564], [926, 875], [682, 723], [421, 947], [828, 982], [139, 408], [744, 53],
         [661, 255], [652, 50], [915, 990], [530, 965], [746, 943], [498, 322], [713, 847], [661, 961],
         [217, 554], [222, 64], [733, 413], [210, 812], [158, 164], [508, 272], [508, 176], [504, 331],
         [430, 981], [660, 655], [361, 842], [466, 639], [696, 66], [520, 199], [253, 304], [125, 771],
         [928, 290], [570, 356], [752, 306], [731, 631], [728, 866], [522, 203], [104, 223], [496, 337],
         [309, 756], [790, 388], [617, 675], [90, 828], [332, 762], [421, 702], [727, 22], [345, 561],
         [51, 346], [363, 404], [351, 279], [694, 316], [419, 428], [234, 870], [201, 698], [609, 172],
         [839, 384], [61, 351], [975, 121], [769, 946], [754, 940], [363, 836], [697, 552], [798, 834],
         [721, 973], [262, 848], [878, 432], [793, 413], [842, 237], [99, 991], [188, 268], [167, 885],
         [48, 810], [687, 18], [321, 625], [691, 939], [868, 837], [991, 187], [401, 307], [73, 117],
         [590, 663], [86, 906], [959, 245], [698, 816], [304, 343], [13, 528], [235, 796], [381, 171],
         [815, 151], [974, 39], [771, 747], [531, 567], [635, 710], [776, 136], [328, 701], [896, 948],
         [4, 143], [10, 194], [263, 819], [870, 625], [116, 453], [900, 20], [243, 410], [440, 832],
         [471, 273], [937, 975], [833, 108], [119, 264], [504, 551], [389, 412], [394, 489], [818, 779],
         [777, 258], [104, 325], [18, 926], [700, 454], [791, 210], [848, 843], [284, 123], [622, 277],
         [148, 939], [831, 892], [670, 304], [98, 183], [315, 861], [869, 72], [121, 284], [963, 450],
         [531, 3], [706, 167], [290, 318], [273, 115], [424, 457], [256, 177], [178, 989], [667, 46],
         [565, 667], [444, 395], [228, 671], [466, 836], [251, 596], [488, 233], [724, 273], [714, 373],
         [835, 961], [553, 7], [471, 730], [323, 221], [111, 427], [965, 270], [200, 462], [334, 829],
         [890, 369], [97, 151], [982, 796], [429, 575], [669, 380], [303, 955], [883, 471], [474, 276],
         [968, 353], [570, 245], [616, 440], [219, 889], [569, 454], [426, 948], [71, 695], [988, 295],
         [150, 881], [440, 233], [461, 930], [731, 247], [960, 509], [448, 794], [307, 440], [974, 641],
         [915, 286], [451, 142], [15, 98], [142, 504], [576, 4], [720, 86], [43, 591], [26, 224], [570, 948],
         [803, 397], [701, 407], [596, 504], [597, 880], [20, 279], [765, 51], [508, 591], [388, 98],
         [816, 244], [874, 525], [911, 308], [938, 565], [295, 134], [580, 266], [316, 814], [705, 16],
         [896, 305], [102, 877], [561, 790], [135, 502], [935, 301], [69, 699], [898, 567], [962, 984],
         [947, 927], [115, 81], [557, 820], [445, 563], [114, 871], [201, 514], [759, 529], [208, 667],
         [568, 466], [19, 273], [122, 46], [41, 324], [283, 106], [771, 243], [237, 488], [998, 427],
         [96, 413], [841, 714], [721, 149], [154, 859], [383, 363], [939, 41], [683, 357], [869, 904],
         [18, 131], [646, 292], [69, 644], [752, 612], [219, 939], [230, 168], [653, 248], [140, 613],
         [367, 26], [913, 908], [526, 885], [662, 408], [189, 700], [726, 639], [198, 560], [57, 154],
         [793, 17], [284, 103], [591, 707], [870, 628], [389, 93], [936, 187], [214, 470], [465, 174],
         [999, 202], [647, 475], [20, 883], [814, 64], [508, 384], [666, 259], [212, 499], [999, 562],
         [614, 489], [353, 392], [671, 702], [313, 871], [2, 273], [99, 990], [32, 239], [766, 657],
         [143, 244], [932, 921], [46, 489], [236, 709], [753, 867], [960, 621], [307, 84], [481, 401],
         [267, 536], [760, 426], [684, 655], [482, 284], [517, 967], [193, 873], [743, 107], [194, 619],
         [974, 328], [204, 318], [196, 161], [612, 184], [596, 2], [332, 717], [14, 214], [942, 434],
         [699, 265], [643, 318], [578, 81], [869, 634], [538, 353], [374, 101], [2, 511], [862, 332],
         [122, 761], [227, 297], [493, 248], [514, 75], [725, 571], [107, 863], [64, 668], [369, 736],
         [488, 942], [193, 224], [211, 226], [566, 287], [502, 29], [251, 498], [93, 882], [112, 697],
         [845, 783], [508, 173], [965, 732], [602, 550], [516, 654], [525, 468], [38, 263], [732, 306],
         [324, 343], [44, 965], [827, 216], [424, 490], [890, 752], [981, 346], [687, 188], [696, 891],
         [819, 152], [881, 470], [139, 934], [987, 425], [827, 768], [19, 658], [473, 733], [705, 657],
         [423, 788], [336, 886], [478, 735], [479, 75], [620, 945], [774, 468], [333, 24], [425, 344],
         [122, 561], [902, 728], [20, 788], [525, 292], [746, 566], [314, 217], [425, 925], [531, 713],
         [340, 855], [30, 143], [276, 661], [678, 251], [522, 157], [843, 829], [961, 368], [330, 97],
         [759, 541], [765, 530], [907, 56], [921, 116], [607, 389], [215, 70], [921, 632], [206, 761],
         [144, 482], [79, 172], [278, 560], [860, 574], [976, 704], [972, 889], [254, 496], [228, 130],
         [414, 582], [31, 931], [875, 485], [773, 402], [584, 100], [618, 337], [68, 566], [482, 465],
         [91, 630], [777, 141], [433, 555], [228, 542], [71, 809], [389, 174], [605, 714], [256, 335],
         [355, 536], [888, 715], [681, 280], [350, 438], [798, 526], [795, 270], [961, 336], [174, 47],
         [792, 942], [745, 650], [772, 68], [558, 267], [938, 585], [979, 120], [121, 55], [28, 716],
         [379, 685], [163, 161], [356, 494], [639, 645], [418, 632], [954, 453], [165, 354], [698, 67],
         [618, 298], [495, 471], [156, 579], [480, 675], [527, 836], [856, 88], [561, 995], [816, 240],
         [472, 370], [354, 31], [799, 573], [291, 721], [532, 71], [416, 636], [387, 602], [39, 933],
         [462, 139], [465, 530], [461, 476], [668, 198], [950, 678], [976, 591], [779, 75], [781, 152],
         [905, 19], [732, 793], [372, 728], [180, 219], [336, 573], [255, 914], [975, 653], [830, 666],
         [514, 75], [774, 364], [490, 910], [449, 86], [823, 564], [98, 360], [379, 549], [328, 493],
         [758, 407], [939, 899], [463, 156], [674, 736], [248, 902], [374, 338], [25, 752], [149, 24],
         [911, 616], [152, 85], [615, 388], [523, 994], [112, 816], [753, 157], [855, 391], [517, 685],
         [644, 426], [801, 207], [759, 460], [394, 252], [577, 904], [755, 751], [707, 541], [236, 222],
         [411, 404], [52, 999], [686, 821], [617, 366], [179, 606], [457, 916], [388, 671], [933, 925],
         [903, 9], [797, 327], [488, 542], [244, 345], [931, 979], [577, 726], [852, 441], [120, 91],
         [118, 578], [473, 394], [969, 258], [442, 693], [344, 195], [512, 474], [935, 881], [489, 930],
         [276, 365], [95, 693], [716, 358], [572, 820], [21, 127], [180, 576], [331, 290], [386, 166],
         [695, 905], [43, 68], [815, 413], [731, 464], [467, 388], [133, 23], [205, 374], [857, 141],
         [621, 240], [457, 172], [592, 794], [691, 50], [919, 808], [331, 44], [603, 207], [803, 159],
         [341, 890], [704, 28], [854, 333], [848, 96], [236, 668], [496, 154], [643, 31], [201, 588],
         [595, 964], [682, 444], [892, 451], [397, 451], [447, 270], [209, 938], [491, 41], [581, 977],
         [830, 885], [555, 240], [82, 37], [692, 641], [142, 981], [660, 143], [49, 599], [932, 765],
         [517, 238], [261, 510], [282, 670], [657, 780], [556, 801], [90, 802], [350, 219], [653, 675],
         [389, 375], [893, 776], [894, 215], [330, 172], [564, 531], [305, 13], [839, 291], [741, 75],
         [838, 774], [518, 102], [189, 442], [48, 510], [989, 363], [424, 898], [707, 80], [120, 410],
         [351, 545], [324, 326], [151, 258], [992, 471], [641, 324], [284, 117], [837, 226], [874, 602],
         [193, 250], [343, 2], [871, 751], [601, 953], [651, 447], [564, 768], [297, 534], [891, 727],
         [635, 772], [231, 459], [484, 820], [607, 568], [175, 420], [821, 472], [363, 780], [727, 555],
         [834, 451], [835, 338], [282, 585], [830, 145], [281, 670], [174, 855], [292, 987], [839, 374],
         [196, 926], [370, 379], [280, 843], [366, 763], [449, 395], [780, 656], [804, 864], [828, 725],
         [281, 580], [417, 544], [809, 726], [706, 177], [393, 528], [231, 850], [756, 609], [403, 435],
         [850, 990], [277, 633], [765, 814], [738, 570], [945, 826], [575, 374], [621, 161], [538, 294],
         [290, 409], [812, 318], [63, 136], [60, 551], [781, 35], [991, 687], [37, 173], [544, 3], [272, 123],
         [564, 599], [898, 658], [979, 126], [824, 272], [646, 326], [527, 279], [491, 626], [344, 945],
         [125, 964], [174, 652], [853, 529], [323, 919], [73, 672], [682, 131], [60, 463], [391, 792],
         [228, 269], [325, 644], [451, 673], [429, 895], [240, 636], [735, 293], [200, 852], [718, 69],
         [575, 724], [739, 998], [905, 892], [401, 674], [748, 363], [505, 463], [716, 899], [690, 535],
         [759, 949], [14, 755], [654, 64], [658, 445], [696, 532], [623, 618], [60, 178], [642, 125],
         [416, 209], [953, 295], [966, 58], [6, 907], [809, 170], [507, 210], [881, 284], [951, 621],
         [773, 723], [234, 562], [995, 313], [281, 154], [372, 786], [820, 548], [493, 932], [667, 808],
         [787, 44], [348, 731], [525, 115], [577, 268], [685, 376], [589, 287], [928, 828], [39, 449],
         [845, 312], [760, 568], [859, 708], [400, 903], [841, 493], [282, 768], [810, 910], [554, 904],
         [965, 617], [425, 967], [179, 661], [586, 122], [126, 591], [89, 761], [26, 602], [662, 172],
         [418, 529], [536, 562], [840, 325], [493, 730], [468, 525], [947, 211], [218, 431], [685, 566],
         [97, 507], [43, 733], [301, 48], [742, 271], [845, 549], [853, 331], [15, 828], [524, 535],
         [107, 757], [796, 570], [740, 58], [318, 515], [229, 734], [795, 595], [571, 101], [417, 667],
         [261, 827], [44, 641], [462, 461], [933, 255], [694, 167], [475, 661], [417, 988], [291, 513],
         [207, 460], [728, 829], [244, 36], [24, 922], [1, 893], [593, 477], [133, 85], [249, 127],
         [222, 286], [327, 344], [396, 350], [11, 59], [336, 417], [124, 556], [55, 172], [703, 10],
         [658, 215], [661, 117], [75, 546], [252, 250], [470, 601], [28, 608], [490, 718], [248, 188],
         [489, 634], [568, 238], [513, 976], [806, 292], [445, 470], [575, 719], [611, 422], [614, 574],
         [937, 540], [341, 650], [11, 284], [30, 525], [163, 867], [745, 558], [479, 691], [248, 395],
         [725, 781], [951, 596], [72, 901], [811, 537], [740, 594], [725, 683], [143, 540], [698, 444],
         [255, 537], [561, 699], [770, 38], [967, 334], [586, 945], [159, 737], [247, 788], [610, 674],
         [402, 942], [934, 471], [182, 97], [368, 905], [302, 723], [29, 78], [604, 23], [766, 867],
         [380, 956], [627, 898], [834, 155], [109, 869], [587, 188], [834, 891], [915, 771], [975, 73],
         [984, 635], [364, 820], [373, 295], [673, 223], [118, 165], [761, 582], [626, 571], [999, 328],
         [544, 80], [556, 520], [837, 335], [859, 29], [856, 423], [445, 861], [742, 327], [130, 573],
         [882, 749], [354, 892], [201, 955], [283, 189], [217, 550], [556, 546], [850, 587], [658, 694],
         [171, 28], [833, 430], [783, 369], [828, 935], [883, 562], [366, 489], [796, 652], [960, 847],
         [204, 388], [414, 459], [524, 732], [514, 339], [728, 723], [471, 191], [312, 915], [666, 666],
         [427, 19], [19, 782], [32, 767], [6, 191], [641, 134], [363, 597], [204, 150], [162, 94],
         [124, 951], [270, 511], [120, 633], [978, 912], [678, 250], [220, 186], [846, 156], [218, 939],
         [668, 200], [931, 620], [538, 823], [237, 234], [540, 902], [707, 880], [154, 6], [127, 431],
         [162, 481], [747, 320], [213, 362], [439, 438], [58, 276], [395, 568], [725, 122], [509, 14],
         [111, 561], [324, 805], [931, 589], [957, 224], [942, 196], [786, 677], [99, 77], [952, 532],
         [395, 876], [638, 702], [943, 159], [771, 960], [64, 467], [935, 680], [456, 725], [337, 58],
         [487, 55], [361, 59], [851, 294], [500, 816]], 736211) == 249352087
